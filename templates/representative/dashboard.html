{% extends "base.html" %}
{% set title = "Representative Dashboard" %}

{% block content %}
<div class="rep-dashboard">

    <!-- =========================
         Page Header
    ========================== -->
    <div class="page-header">
        <h2>ğŸ›ï¸ Representative Dashboard</h2>
        <p class="page-subtext">
            Manage constituency issues and communicate with citizens.
        </p>
    </div>

    <!-- =========================
         Quick Actions
    ========================== -->
    <div class="dashboard-actions">
        <a href="{{ url_for('representative.create_post') }}" class="btn-primary">
            â• Create Post
        </a>

        <a href="{{ url_for('representative.my_posts') }}" class="btn-secondary">
            ğŸ“„ My Posts
        </a>

        <a href="{{ url_for('representative.issue_management') }}" class="btn-secondary">
            ğŸ§‘â€âš–ï¸ Manage Issues
        </a>

        <a href="{{ url_for('representative.performance_score') }}" class="btn-secondary">
            ğŸ“Š My Score
        </a>
    </div>

    <!-- =========================
         Open Issues Summary
    ========================== -->
    <section class="dashboard-section">
        <h3>ğŸ“Œ Issues Requiring Attention</h3>

        {% if issues %}
            {% for issue in issues[:5] %}
                {% if issue.status != "Resolved" %}
                    <div class="issue-row">
                        <a href="{{ url_for('citizen.issue_detail', issue_id=issue.id) }}">
                            {{ issue.title }}
                        </a>
                        <span class="status status-{{ issue.status|lower }}">
                            {{ issue.status }}
                        </span>
                    </div>
                {% endif %}
            {% endfor %}
        {% else %}
            <p>No active issues at the moment.</p>
        {% endif %}
    </section>

</div>
{% endblock %}
